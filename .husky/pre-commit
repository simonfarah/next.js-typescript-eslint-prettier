#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Prettier fixes
echo '';
echo '‚è≥ Running Prettier fixes. Please wait...';
npx prettier '**/*.{js,jsx,ts,tsx,json}' '!./package.json' '!./package-lock.json' --write --loglevel error
echo '‚úÖ Prettier fixes done';

# Typescript checks
echo '';
echo '‚è≥ Running Typescript checks. Please wait...';
npx tsc --noEmit ||
(
  echo '‚ùå Typescript error(s) found. Please fix them before committing.';
  false;
)
echo '‚úÖ Typescript checks passed';

# ESLint checks
echo '';
echo '‚è≥ Running ESLint checks. Please wait...';
npx eslint --ext .js,.jsx,ts,tsx ||
(
  echo '‚ùå ESLint error(s) found. Please fix them before committing.';
  false;
)
echo '‚úÖ ESLint checks passed';

# Ready to commit
echo '';
echo 'üéä Changes ready to be committed!';
echo '';
