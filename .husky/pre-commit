#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Prettier fixes
echo '';
echo 'â³ Running Prettier fixes. Please wait...';
npx prettier --write . --loglevel error
echo 'âœ… Prettier fixes done';

# Typescript checks
echo '';
echo 'â³ Running Typescript checks. Please wait...';
npx tsc --noEmit ||
(
  echo 'âŒ Typescript error(s) found. Please fix them before committing.';
  false;
)
echo 'âœ… Typescript checks passed';

# ESLint checks
echo '';
echo 'â³ Running ESLint checks. Please wait...';
npx eslint --ext .js,.jsx,ts,tsx ||
(
  echo 'âŒ ESLint error(s) found. Please fix them before committing.';
  false;
)
echo 'âœ… ESLint checks passed';

# Ready to commit
echo '';
echo 'ğŸŠ Changes ready to be committed!';
echo '';
